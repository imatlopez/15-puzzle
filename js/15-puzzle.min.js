+function(a){"use strict";var b=[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,0]],c=[[3,3],[0,0],[0,1],[0,2],[0,3],[1,0],[1,1],[1,2],[1,3],[2,0],[2,1],[2,2],[2,3],[3,0],[3,1],[3,2],[3,3]],d=function(){a(".piece").each(function(b,d){var e=parseInt(a(d).attr("data-number"),10);a(d).attr("data-x",c[e][0]),a(d).attr("data-y",c[e][1])})},e=function e(g){for(var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,j=[1,-1,0,0],k=[0,0,1,-1],l=c[g],m=!1,n=function(a,d,e,f){return b[a][d]=0,b[a+e][d+f]=g,c[g]=c[0],c[0]=l,!0},o=0;o<4;o++){var p=!(void 0!==h&&j[o]!==-h||void 0!==i&&k[o]!==-i);if(p&&l[0]+j[o]<4&&l[0]+j[o]>=0&&l[1]+k[o]<4&&l[1]+k[o]>=0){if(0===b[l[0]+j[o]][l[1]+k[o]]){m=n(l[0],l[1],j[o],k[o]);break}var q=void 0===h?-j[o]:h,r=void 0===i?-k[o]:i;if(p&&e(b[l[0]+j[o]][l[1]+k[o]],q,r)){m=n(l[0],l[1],j[o],k[o]);break}}}return!!m&&(d(),f()&&window.setTimeout(function(){a("h2 span").html("home"),a("#woohoo").hasClass("active")||a("#woohoo").addClass("active")},500),!0)},f=function(){if(c[0][0]<3||c[0][1]<3)return!1;for(var a=0,d=0;d<4;d++)for(var e=0;e<4;e++)if(e<3||d<3){if(b[e][d]!==a+1)return!1;a++}return!0},g=function(){for(var e=function(a,b){return Math.floor(Math.random()*(b-a))+a},f=0;f<4;f++)for(var g=0;g<4;g++)b[f][g]=-1;for(var h=0;h<16;h++){var i=e(0,4),j=e(0,4);b[i][j]<0?(b[i][j]=h,c[h][0]=i,c[h][1]=j):h--}console.log("Reset board!"),d(),a("h2 span").html("not home"),a("#woohoo").hasClass("active")&&a("#woohoo").removeClass("active")};g(),a("#retry").click(function(){return g()}),a("#skip").click(function(){console.log("Skip board!");for(var e=1,f=0;f<4;f++)for(var g=0;g<4;g++){var h=15===e?0:16===e?15:e;e++,b[g][f]=h,c[h][0]=g,c[h][1]=f}d(),a("h2 span").html("not home"),a("#woohoo").hasClass("active")&&a("#woohoo").removeClass("active")}),a(".piece").each(function(b,c){a(c).click(function(){return e(parseInt(a(c).attr("data-number"),10))})})}(jQuery);