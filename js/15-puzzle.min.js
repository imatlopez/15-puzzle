+function(a){"use strict";var b=[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,0]],c=[[3,3],[0,0],[0,1],[0,2],[0,3],[1,0],[1,1],[1,2],[1,3],[2,0],[2,1],[2,2],[2,3],[3,0],[3,1],[3,2],[3,3]],d=function(d){for(var f=[1,-1,0,0],g=[0,0,1,-1],h=c[d],i=!1,j=0;j<4;j++)if(h[0]+f[j]<4&&h[0]+f[j]>=0&&h[1]+g[j]<4&&h[1]+g[j]>=0&&0===b[h[0]+f[j]][h[1]+g[j]]){b[h[0]][h[1]]=0,b[h[0]+f[j]][h[1]+g[j]]=d,c[d]=c[0],c[0]=h,i=!0;break}i&&(a(".piece").each(function(b,e){parseInt(a(e).attr("data-number"),10)===d&&(a(e).attr("data-x",c[d][0]),a(e).attr("data-y",c[d][1]))}),e()&&(a("h2 span").html("home"),a("#woohoo").hasClass("active")||a("#woohoo").addClass("active")))},e=function(){if(c[0][0]<3||c[0][1]<3)return!1;for(var a=0,d=0;d<4;d++)for(var e=0;e<4;e++)if(console.log(b[e][d]+", "+(a+1)),3!==e&&3!==d){if(b[e][d]!==a+1)return!1;a++}return!0},f=function(){for(var d=function(a,b){return Math.floor(Math.random()*(b-a))+a},e=0;e<4;e++)for(var f=0;f<4;f++)b[e][f]=-1;for(var g=0;g<16;g++){var h=d(0,4),i=d(0,4);b[h][i]<0?(b[h][i]=g,c[g][0]=h,c[g][1]=i):g--}console.log("Reset board!"),a(".piece").each(function(b,d){var e=parseInt(a(d).attr("data-number"),10);a(d).attr("data-x",c[e][0]),a(d).attr("data-y",c[e][1])}),a("h2 span").html("not home"),a("#woohoo").hasClass("active")&&a("#woohoo").removeClass("active")};f(),a("#retry").click(function(){return f()}),a(".piece").each(function(b,c){a(c).click(function(){return d(parseInt(a(c).attr("data-number"),10))})})}(jQuery);